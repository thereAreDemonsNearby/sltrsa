#include <fmt/printf.h>
#include "../ntalgo.hpp"

int main()
{
    constexpr size_t PrimeBits = 1024;
    auto q = BigUInt<PrimeBits>::fromDec("137605767683233055540204339779738209462443663372171279212768524691741833765283207648911766448024610802951568347013744595878681389680246832550399862976302488060495121605137121500931618065229287506560303459744485091821477557486609618941975122231746901252768217626057667965754233975094446845571303224004947730081");
    if (!millerRabin(q)) {
	fmt::print("is prime\n");
    } else {
	fmt::print("is composite\n");
    }


    if (!millerRabin_par(q, 4)) {
	fmt::print("is prime\n");	
    } else {
	fmt::print("is composite\n");
    }

    // 166874894998633759186168036299625206698134041473056592978089168900929460431155840220950254282479684445054119205374577778378636963789393948221190287574090933439601556042842537997308825566367330389597674957784602135311800509172542076581143586218499885346045967971045098987565703443124253044059270300487912846159
    // 91551809493329287167053657390584475909060527220864414895211311120136831309731131798390666183950699191310594603183384683377910886147786164946584803181172983725679897787069601356757404750207191137455874469764013475339992126989535353372681668701274446756333814371358308476695440773846875298234574269907523138819

    // OK: 98357463505717605468511582622506847686299861673644785493157477363567186611321916946431323695903313246501501241653007340156906175851964652948919010971736919596262098966139152747531254694087644390366422247098186267832729958512194964337317868787749204752559659678698753971466877619587418713962116246541282651147
}
